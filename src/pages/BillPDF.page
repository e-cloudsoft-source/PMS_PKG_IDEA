<apex:page standardcontroller="AccountAcount__c" extensions="BillPDF" showHeader="false"
  applyHtmlTag="false" applyBodyTag="false"
    sidebar="false" renderAs="pdf" readonly="true" action="{!extInitAction}">
<!--  Entry Css style sheet file to resource file -->
<html>
 <head>
  <style>
   @page {
    size: 8.27in 11.69in;   /* A4 portlate size */
    /* 2019/07/15 請求書(控)非表示印刷レイアウトbug対応 BY zyz BEGIN */
    margin: 10px 10px {!if(printLoop.size < 2, '8px' ,'10px')}  10px;
    /* 2019/07/15 請求書(控)非表示印刷レイアウトbug対応 BY zyz BEGIN */
   }
   body {
   font-family: Arial Unicode MS;
   }
   .odd {
    border-bottom: 1px solid #000;
    padding: 1px 1px 2px 2px;
    font-size: 100%;
   }
   .even {
    border-bottom: 1px solid #000;
    background-color: #CCCCCC;
    padding: 1px 1px 2px 2px;
    font-size: 100%;
   }
   .underline {
      list-style:none; 
      border-bottom:0.5px black solid; 
   }
    .header {
    height:24px;
        font-size: 80%;
        background-color: #CCCCCC;
    }
    /* 2018/12/15 請求書-領収書新規レイアウトを追加 WGCH BEGIN*/
    .splitline {
      list-style:none; 
      border-top:0.5px black solid; 
    }
    .leftline {
        list-style:none; 
        border-left:0.5px black solid; 
    }
    .rightline {
        list-style:none; 
        border-right:0.5px black solid; 
    }
    /* 2018/12/15 請求書-領収書新規レイアウトを追加 WGCH END */
    /* 2019/07/30 軽減税率機能対応 WGCH BEGIN */
    .lineHt1em{
      line-height: 1em;
      font-size: 10pt;
    }
    /* 2019/07/30 軽減税率機能対応 WGCH END */
/* 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz BEGIN */
/* 表格线控制 */
.dumyclass div{
	height:100%;
	line-height:20px;
}
.dumyclass div div{
	height:100%;
}
.tableborderright {
    border-right:1px solid #000;
}
.tableborderleft {
	height:21px;
    border-left:1px solid #000;
    border-bottom:1px solid #000;
}
.tableborderbottom {
    border-top:1px solid #000;
}
.tableborderheader {
    border-top:1px solid #000;
    border-left:1px solid #000;
    border-right:1px solid #000;
    border-bottom:1px solid #000;
}
/* 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz END */
  </style>
 </head>
 <body>
<apex:pageMessages />
<!-- 2018/05/01 請求書分割 WGCH BEGIN -->
<apex:variable var="oneRoomNo" value="{!0}"/>
<apex:repeat value="{!bulkPrintInfoLst}" var="oneRoom" >
<apex:variable var="oneRoomNo" value="{!oneRoomNo + 1}"/>
<!-- 2018/05/01 請求書分割 WGCH END -->
<!-- 2019/04/30 請求書の送付表新規作成 BY zyz BEGIN -->
<apex:outputPanel rendered="{!letterFlg}">
<div style="vertical-align:top ;margin-top: 0px;height:100px;"></div>
<table align="center" style="width: 100%" cellpadding="0px" cellspacing="0px" border="0">
<colgroup style="width: 12cm"></colgroup>
<colgroup style="width: 1cm"></colgroup>

<tr><td style="text-align: right;" colspan="3">
<div style="font-size:10pt;text-align: right;float:right;">
<table style="text-align: right; width: 10%;">
<tr>
  <td>
  <apex:outputText value="{0,date,yyyy年MM月dd日}">
  <apex:param value="{!IssueDate}"/>
  </apex:outputText>
  </td>
</tr>
</table>
</div>
</td></tr>
<tr style="vertical-align: top;">
<!-- 2019/06/30 請求書送付状の宛名複数選択表示機能 BY zyz BEGIN -->
<td><span style="display:inline-block;margin-left:{!if(autoHtml =='','30px;','0px;')}">&nbsp;</span></td>
<!-- 2019/06/30 請求書送付状の宛名複数選択表示機能 BY zyz END -->
<td rowspan="{!IF(gIsServieModeOuter, '2', '1' )}">
<!-- 2019/06/30 請求書送付状の宛名複数選択表示機能 BY zyz BEGIN -->
<!-- <apex:outputPanel rendered="{!isFixPosition}"> -->
<apex:outputPanel rendered="{!isFixPosition && if(autoHtml !='',false,true)}">
<!-- 2019/06/30 請求書送付状の宛名複数選択表示機能 BY zyz END -->
<table style="table-layout: fixed; width: 440px;">
<tr>
<td>
<span style="margin-left:{!IF(LEN(SUBSTITUTE(oneRoom.Customer,'　','')) = 0, '210px;', '0px;')};margin-top:10px ;font-size:{!IF(LEN(oneRoom.Customer) > 20 , '12pt', IF(LEN(oneRoom.Customer) > 16 , '14pt', '16pt'))};">
{!oneRoom.Customer}
</span>
</td>
<td style="text-align: right;width: 6%;vertical-align:bottom;font-size:{!IF(LEN(oneRoom.Customer) > 20 , '12pt', IF(LEN(oneRoom.Customer) > 16 , '14pt', '16pt'))};">
<!-- 2019/10/15 見積書、請求書、会計書、予約確認書の敬称を選択できるように改善対応 BY zyz BEGIN -->
<apex:outputPanel rendered="{!mrStr !=''}"> {!mrStr}</apex:outputPanel>
<apex:outputPanel rendered="{!titleStr != '' && mrStr ==''}">　{!titleStr}</apex:outputPanel><apex:outputPanel rendered="{!titleStr == '' && mrStr ==''}">　様</apex:outputPanel>
<!--<apex:outputPanel rendered="{!titleStr != ''}">　{!titleStr}</apex:outputPanel><apex:outputPanel rendered="{!titleStr == ''}">　様</apex:outputPanel>-->
<!-- 2019/10/15 見積書、請求書、会計書、予約確認書の敬称を選択できるように改善対応 BY zyz END -->
</td>
</tr>
</table>
</apex:outputPanel>
<!-- 2019/06/30 請求書送付状の宛名複数選択表示機能 BY zyz BEGIN -->
<!-- <apex:outputPanel rendered="{!!isFixPosition}"> -->
<apex:outputPanel rendered="{!!isFixPosition && if(autoHtml !='',false,true)}">
<!-- 2019/06/30 請求書送付状の宛名複数選択表示機能 BY zyz END -->
<apex:variable var="idx" value="{!1}"/>
<span style="display:inline-block;margin-left:{!IF(LEN(SUBSTITUTE(oneRoom.Customer,'　','')) = 0, '210px;', '0px;width:420px;')};margin-top:10px ;font-size:{!oneRoom.ftsize}pt">
<apex:repeat value="{!oneRoom.customerArr}" var="curtomerItem">{!curtomerItem}<apex:outputPanel rendered="{!(oneRoom.customerArr.size != idx)}"><br/></apex:outputPanel>
<apex:variable var="idx" value="{!idx + 1}"/>
</apex:repeat>
</span>
</apex:outputPanel>
<!-- 2019/06/30 請求書送付状の宛名複数選択表示機能 BY zyz BEGIN -->
<apex:outputPanel rendered="{!if(autoHtml =='',false,true)}">
<table style="table-layout: fixed; width: 440px;">
<tr><td>
	<apex:outputtext value="{!autoHtml}" style="{!autoStyle}" escape="false"></apex:outputtext>
</td></tr>
</table>
</apex:outputPanel>
<!-- 2019/06/30 請求書送付状の宛名複数選択表示機能 BY zyz END -->
</td>
<td style="text-align: right;">
	<!-- 2019/05/31 増税仮BUG FIX WGCH BEGIN -->
	<!-- <c:ReportTitleComp postion="top" noExtendInfo="true"  width="299"  isBillPdf="true" stampisShowFlg="{!stampIsShowFlg}" shopCd="{!shopCd}" /> -->
	<c:ReportTitleComp postion="top" noExtendInfo="true"  width="299"  isBillPdf="true" stampisShowFlg="{!stampIsShowFlg}" shopCd="{!shopCd}" repInfo="{!repInfo}" />
	<!-- 2019/05/31 増税仮BUG FIX WGCH END -->
</td>
</tr>
</table>
<table width="90%">
<tr height="40px"><td colspan="2"><img src="{!URLFOR($Resource.reportFiles, 'img/blank')}" style=" height:40px;width: 1px"/></td></tr>
</table>
<table align="center" style="width: 90%;" cellpadding="0px" cellspacing="0px" border="0">
<tr><td colspan="1" style="width: 100%;text-align:center;font-size:20pt;">{!shipTitle}</td></tr>
<tr>
<td>
<span style="font-size:14pt;display:{!IF(shipBodyFlg ,'','none;')};">
<apex:outputtext value="{!shipBody}" escape="false"/>
</span>
<span style="font-size:14pt;display:{!IF(shipBodyFlg ,'none;','')}">
拝啓<br/>時下ますますご清栄のこととお喜び申し上げます。<br/>平素は格別のご高配を賜り、厚く御礼申し上げます。<br/>下記の通り、書類を送付させて頂きますので、よろしくお願い申し上げます。
</span>
</td></tr>
</table>
<table width="90%">
<tr height="30px"><td colspan="2"><img src="{!URLFOR($Resource.reportFiles, 'img/blank')}" style=" height:20px;width: 1px"/></td></tr>
</table>
<table align="center" style="width: 90%;font-size:14pt;" cellpadding="0px" cellspacing="0px" border="0">
<tr><td style="width: 100%;text-align: right;height:50px;"><span style="margin-right:5px;">{!shipRegards}</span></td></tr>
<tr><td style="width: 100%;text-align:center;height:50px;">{!shipRecord}</td></tr>
<tr><td style="width: 100%;height:50px;"><apex:outputtext value="{!shipDepart}" escape="false"/></td></tr>
<tr><td style="width: 100%;text-align: right;height:50px;"><span style="margin-right:5px;">{!shipAbove}</span></td></tr>
</table>
<div style="vertical-align:top ;margin-top: 0px;page-break-before: always;"></div>
</apex:outputPanel>
<!-- 2019/04/30 請求書の送付表新規作成 BY zyz END -->
<!-- 2017/05/31 請求書PDFについての(控)を出力制御対応 zyz BEGIN -->
<apex:repeat value="{!printLoop}" var="printvar" >
<!-- 2018/05/01 請求書分割 WGCH BEGIN -->
<div style="vertical-align:top ;margin-top: 0px;height:56px;{!if( printvar < 2 && oneRoomNo < 2, '', 'page-break-before: always;')}">
<div align="right"><span>1 / {!oneRoom.allPageList.size}</span></div>
<!-- 2018/05/01 請求書分割 WGCH END -->
<apex:outputPanel rendered="{!!isForeignCurrency}">  
<!-- 2018/12/15 請求書レイアウト改善 zyz BY BEGIN -->
<div align="center"><span style="font-size:18pt;">
  <apex:outputPanel rendered="{!subjectStr != ''}">{!subjectStr}{!IF(printvar > 1, '(控)','')}</apex:outputPanel>
  <!-- 2018/12/15 請求書-領収書新規レイアウトを追加 WGCH BEGIN -->
  <apex:outputPanel rendered="{!subjectStr == '' && !noreceipt}">請求書兼領収書{!IF(printvar > 1, '(控)','')}</apex:outputPanel>
  <apex:outputPanel rendered="{!subjectStr == '' && noreceipt}">請 　 求　  書{!IF(printvar > 1, '(控)','')}</apex:outputPanel>
  <!-- 2018/12/15 請求書-領収書新規レイアウトを追加 WGCH END -->
</span></div>
<!--<div align="center"><span style="font-size:18pt;">請 　 求　  書{!IF(printvar > 1, '(控)','')}</span></div>-->
<!-- 2018/12/15 請求書レイアウト改善 zyz BY END -->
</apex:outputPanel>
<apex:outputPanel rendered="{!isForeignCurrency}">  
<div align="center" style="line-height:90%;">
<!-- 2018/12/15 請求書レイアウト改善 zyz BY BEGIN -->
<span style="font-size:18pt;">
  <apex:outputPanel rendered="{!subjectStr != ''}">{!subjectStr}{!IF(printvar > 1, '(控)','')}</apex:outputPanel>
  <!-- 2018/12/15 請求書-領収書新規レイアウトを追加 WGCH BEGIN -->
  <apex:outputPanel rendered="{!subjectStr == '' && !noreceipt}">請求書兼領収書{!IF(printvar > 1, '(控)','')}</apex:outputPanel>
  <apex:outputPanel rendered="{!subjectStr == '' && noreceipt}">請  求  書{!IF(printvar > 1, '(控)','')}</apex:outputPanel>
  <!-- 2018/12/15 請求書-領収書新規レイアウトを追加 WGCH END -->
</span>
<!--<span style="font-size:18pt;">請  求  書{!IF(printvar > 1, '(控)','')}</span>-->
<!-- 2018/12/15 請求書レイアウト改善 zyz BY END -->
<br/>
<!-- 2018/05/01 請求書分割 WGCH BEGIN -->
<span style="font-size:11pt;">Invoice<apex:outputLabel value="(Customer's receipt)" rendered="{!printvar > 1}"/></span>
<!-- 2018/05/01 請求書分割 WGCH END -->
</div>
</apex:outputPanel>
</div>
<!-- 2017/05/31 請求書PDFについての(控)を出力制御対応 zyz END -->
<!-- 2018/05/01 請求書分割 WGCH BEGIN -->
<div align="right"><span style="font-size:8pt;">No.{!oneRoom.AccountNo}</span></div>
<!-- 2018/05/01 請求書分割 WGCH END -->
<hr size="2" color="#000000"/>

<table style="width: 100%" cellpadding="0px" cellspacing="0px">
<tr style="vertical-align: top;">
<!-- 2019/07/15 請求書の請求先名称の上部に請求先の住所を印字 BY zyz BEGIN -->
<td rowspan="{!IF(gIsServieModeOuter, '2', IF(autoAddHtml =='','1','2') )}">
<apex:outputPanel rendered="{!if(autoAddHtml =='',false,true)}">
<table><tr><td><apex:outputtext value="{!autoAddHtml}" style="{!autoAddStyle}" escape="false"></apex:outputtext></td></tr></table>
</apex:outputPanel>
<!-- 2019/07/15 請求書の請求先名称の上部に請求先の住所を印字 BY zyz END -->
<!-- 2019/02/28 敬称表示改善対応 WSQ BY BEGIN -->
<!-- 2019/07/15 請求書の請求先名称の上部に請求先の住所を印字 BY zyz BEGIN -->
<apex:outputPanel rendered="{!isFixPosition && !autoAllFlg}">
<!-- 2019/07/15 請求書の請求先名称の上部に請求先の住所を印字 BY zyz END -->
<table style="table-layout: fixed; width: 440px;">
<tr>
<td>
<span style="margin-left:{!IF(LEN(SUBSTITUTE(oneRoom.Customer,'　','')) = 0, '210px;', '0px;')};margin-top:10px ;font-size:{!IF(LEN(oneRoom.Customer) > 20 , '12pt', IF(LEN(oneRoom.Customer) > 16 , '14pt', '16pt'))};">
{!oneRoom.Customer}
</span>
</td>
<td style="text-align: right;width: 6%;vertical-align:bottom;font-size:{!IF(LEN(oneRoom.Customer) > 20 , '12pt', IF(LEN(oneRoom.Customer) > 16 , '14pt', '16pt'))};">
<!-- 2019/10/15 見積書、請求書、会計書、予約確認書の敬称を選択できるように改善対応 BY zyz BEGIN -->
<apex:outputPanel rendered="{!titleStr != ''}">　{!titleStr}</apex:outputPanel><apex:outputPanel rendered="{!titleStr == ''}">　{!IF(mrStr !='' ,mrStr , '様')}</apex:outputPanel>
<!-- 2019/10/15 見積書、請求書、会計書、予約確認書の敬称を選択できるように改善対応 BY zyz END -->
</td>
</tr>
</table>
</apex:outputPanel>

<!-- 2019/07/15 請求書の請求先名称の上部に請求先の住所を印字 BY zyz BEGIN -->
<apex:outputPanel rendered="{!!isFixPosition && !autoAllFlg}">
<!-- 2019/07/15 請求書の請求先名称の上部に請求先の住所を印字 BY zyz END -->
<apex:variable var="idx" value="{!1}"/>
<span style="display:inline-block;margin-left:{!IF(LEN(SUBSTITUTE(oneRoom.Customer,'　','')) = 0, '210px;', '0px;width:440px;')};margin-top:10px ;font-size:{!oneRoom.ftsize}pt">
<apex:repeat value="{!oneRoom.customerArr}" var="curtomerItem">{!curtomerItem}<apex:outputPanel rendered="{!(oneRoom.customerArr.size != idx)}"><br/></apex:outputPanel>
<apex:variable var="idx" value="{!idx + 1}"/>
</apex:repeat>
</span>
</apex:outputPanel>
<!-- 2019/02/28 敬称表示改善対応 WSQ BY END -->

<div style="height: 15px"><img src="{!URLFOR($Resource.reportFiles, 'img/blank')}" style=" height:10px;width: 1px"/></div>
 <table width="{!IF(isForeignCurrency, '370px', '290px')}">
 <tr><td>
 <table style="width:100%;">

  <col width="{IF(isForeignCurrency, '220px', '160px')}"/>
  <col width="{IF(isForeignCurrency, '140px', '120px')}"/>

  <tr>
    <!-- 2019/07/30 軽減税率機能対応 WGCH BEGIN -->
    <!-- <td > -->
    <td colspan="{!IF(isReducedTaxFlg, '3', '1')}">
    <!-- 2019/07/30 軽減税率機能対応 WGCH END -->
    
<apex:outputPanel rendered="{!!isForeignCurrency}">  
    <div style="font-size:14pt;; margin-right: 20px; text-align: right; " >
     <!-- 2019/05/31 レイアウト変更 BY zyz BEGIN -->
     <!-- 御請求金額(税込) -->
     御請求金額(税サ込)
     <!-- 2019/05/31 レイアウト変更 BY zyz END -->
    </div>
</apex:outputPanel>
<apex:outputPanel rendered="{!isForeignCurrency}">  
    <div >
     <!-- 2019/05/31 レイアウト変更 BY zyz BEGIN -->
     <!-- <span style="font-size:12pt;">御請求金額(税込)</span> <span style="font-size: 10px;">Total Amount * Tax Included</span> -->
     <span style="font-size:12pt;">御請求金額(税サ込)</span> <span style="font-size: 10px;">Total Amount * Tax Included</span>
     <!-- 2019/05/31 レイアウト変更 BY zyz END -->
    </div>
</apex:outputPanel>

   </td>
   <td >
    <div style="font-size:12pt; " align="right">
     <apex:outputtext value="{0,number,{!NumberFormat}}" >
     <!-- 2018/05/01 請求書分割 WGCH BEGIN -->
      <apex:outputLabel value="{!currencyMark} " rendered="{!oneRoom.RequestAmount > 0}" />
      <apex:outputLabel value="　" rendered="{!!(oneRoom.RequestAmount > 0)}" />
      <apex:param value="{!oneRoom.RequestAmount}" />
      <!-- 2018/05/01 請求書分割 WGCH END -->
     </apex:outputtext>
    </div>
   </td>
  </tr>
  <!-- 内消費税 -->
  <!-- <tr> -->
  <tr style="display:{!IF(NOT(isReducedTaxFlg), true, 'none')}">
      <!-- 2019/07/30 軽減税率機能対応 WGCH END -->
        <td >
        
    <apex:outputPanel rendered="{!!isForeignCurrency}">  
        <div style="font-size:12pt;; margin-right: 20px; text-align: right;" >
          内消費税
        </div>
    </apex:outputPanel>
    <apex:outputPanel rendered="{!isForeignCurrency}">  
        <div>
          <span style="font-size:12pt;">内消費税</span> <span style="font-size: 10px;">{!taxEnglishLabel}</span>
        </div>
    </apex:outputPanel>
    
        </td>
        <td >
        <div style="font-size:12pt; " align="right">
          <apex:outputtext value="{0,number,{!NumberFormat}}" >
          <apex:outputLabel value="{!currencyMark} " />
          <!-- 2018/05/01 請求書分割 WGCH BEGIN -->
          <apex:param value="{!NULLVALUE(oneRoom.Tax,0)}" />
          <!-- 2018/05/01 請求書分割 WGCH END -->
          </apex:outputtext>
        </div>
        </td>
      </tr>
    <!-- 2019/07/30 軽減税率機能対応 WGCH BEGIN -->
    <!-- サービス料 -->
    <tr style="{!if (isReducedTaxFlg,'line-height:.8em;','')};display: {!IF(gIsServieModeOuter, 'table-row', 'none' )}">
      <!-- <td > -->
      <td colspan="{!IF(isReducedTaxFlg, '3', '1')}" >
      <!-- 2019/07/30 軽減税率機能対応 WGCH END -->
        <apex:outputPanel rendered="{!!isForeignCurrency}">  
            <!-- 2019/07/30 軽減税率機能対応 WGCH BEGIN -->
            <div style="{!if (isReducedTaxFlg,'font-size:10pt','font-size:12pt;margin-right: 20px;')};  text-align: right;" >
              <!-- 2019/07/30 軽減税率機能対応 WGCH END -->
              <!-- 2019/05/31 レイアウト変更 BY zyz BEGIN -->
              <!-- サービス料 -->
              内サービス料
              <!-- 2019/05/31 レイアウト変更 BY zyz END -->
            </div>
        </apex:outputPanel>
        <apex:outputPanel rendered="{!isForeignCurrency}">  
            <div>
              <!-- 2019/05/31 レイアウト変更 BY zyz BEGIN -->
              <!-- <span style="font-size:12pt;">サービス料</span> <span style="font-size: 10px;">Service Charge</span> -->
              <!-- 2019/07/30 軽減税率機能対応 WGCH BEGIN -->
              <span style="{!if (isReducedTaxFlg,'font-size:10pt','font-size:12pt')};">内サービス料</span> <span style="font-size: 10px;">Service Charge</span>
              <!-- 2019/07/30 軽減税率機能対応 WGCH END -->
              <!-- 2019/05/31 レイアウト変更 BY zyz END -->
            </div>
        </apex:outputPanel>
      </td>
      <td >
        <!-- 2019/07/30 軽減税率機能対応 WGCH BEGIN -->
        <div style="{!if (isReducedTaxFlg,'font-size:10pt','font-size:12pt')};" align="right">
        <!-- 2019/07/30 軽減税率機能対応 WGCH END -->
        <apex:outputtext value="{0,number,{!NumberFormat}}" >
          <apex:outputLabel value="{!currencyMark} " />
          <!-- 2018/05/01 請求書分割 WGCH BEGIN -->
          <apex:param value="{!oneRoom.serviceAmount}"/>
          <!-- 2018/05/01 請求書分割 WGCH END -->
        </apex:outputtext>
      </div>
      </td>
    </tr>
  <!-- 2019/07/30 軽減税率機能対応 WGCH BEGIN -->
  <apex:repeat value="{!oneRoom.taxRowDataLst}" var="item" rendered="{!isReducedTaxFlg}">
  <!-- 2019/10/30 消費税対象、値引行非表示の機能機能対応 WGCH BEGIN -->
  <tr class="lineHt1em" style="display:{!IF( item.isNoTaxRowShowFlg && (item.amountExcTax + item.taxAmount) != 0 , true, 'none')}" >
  <!-- 2019/10/30 消費税対象、値引行非表示の機能機能対応 WGCH END -->
   <td style="text-align: right;display:{!IF( (item.amountExcTax + item.taxAmount) != 0 , true, 'none')}"> 
	     <apex:outputtext value="({0,number,{!TaxNumberFormat}})対象" rendered="{!item.isDiscountTax && item.isNoTaxPrice}">
	      <apex:param value="{!item.taxRate}"></apex:param>
	     </apex:outputtext>
	    </td>
   <td style="text-align: right;">
     <apex:outputtext value="{!currencyMark}{0,number,{!NumberFormat}}" rendered="{!item.isDiscountTax && item.isNoTaxPrice}">
	      <apex:param value="{!item.amountExcTax}"></apex:param>
	     </apex:outputtext>
	    </td>
   <td style="text-align: right;"> 消費税 </td>
   <td style="text-align: right;">
     <apex:outputtext value="{!currencyMark}{0,number,{!NumberFormat}}" rendered="{!item.isDiscountTax && item.isNoTaxPrice}">
	      <apex:param value="{!item.taxAmount}"></apex:param>
	     </apex:outputtext>
	    </td>
	</tr>
	</apex:repeat>
	<!-- 2019/10/12 8と10％が混在する為、値引きも両方表記の対応(値引き行目非表示対応) -->
	<tr class="lineHt1em" style="text-align: right; display:{!IF(false && isReducedTaxFlg && ( (oneRoom.disRowData.disUnitPriceSum + oneRoom.disRowData.disTaxAmountSum) != 0 ), true, 'none')}">
	    <td> 値引 </td>
	    <td>
    <apex:outputtext value="{!currencyMark}{0,number,{!NumberFormat}}">
	      <apex:param value="{!oneRoom.disRowData.disUnitPriceSum}"></apex:param>
	     </apex:outputtext>
	    </td>
	    <td> 消費税 </td>
	    <td>
     	<apex:outputtext value="▲ {!currencyMark}{0,number,{!NumberFormat}}">
	      <apex:param value="{!oneRoom.disRowData.disTaxAmountSum}"></apex:param>
	     </apex:outputtext>
	    </td>
	</tr>
	<!-- 2019/10/12 8と10％が混在する為、値引きも両方表記の対応 WGCH BEGIN -->
	<apex:repeat value="{!oneRoom.disRowDataLst}" var="item" rendered="{!isReducedTaxFlg}">
	<!-- 2019/10/30 消費税対象、値引行非表示の機能機能対応 WGCH BEGIN -->
	<tr class="lineHt1em" style="text-align: right; display:{!IF(item.isDisRowShowFlg && ( (item.disUnitPriceSum + item.disTaxAmountSum) != 0 ), true, 'none')}">
	<!-- 2019/10/30 消費税対象、値引行非表示の機能機能対応 WGCH END -->
	 <td>
	  <apex:outputtext value="({0,number,{!TaxNumberFormat}})値引">
	   <apex:param value="{!item.taxRate}"></apex:param>
	  </apex:outputtext>
	 </td>
	 <td>
	  <apex:outputtext value="▲ {!CurrencySybmol}{0,number,{!NumberFormat}}">
	   <apex:param value="{!item.disUnitPriceSum}"></apex:param>
	  </apex:outputtext>
	 </td>
	 <td> 消費税 </td>
	 <td>
	  <apex:outputtext value="▲ {!CurrencySybmol}{0,number,{!NumberFormat}}">
	    <apex:param value="{!item.disTaxAmountSum}"></apex:param>
	   </apex:outputtext>
	  </td>
	</tr>
	</apex:repeat>
	<!-- 2019/10/12 8と10％が混在する為、値引きも両方表記の対応 WGCH END -->
	<!-- 2019/10/30 消費税対象、値引行非表示の機能機能対応 WGCH BEGIN -->
	<tr class="lineHt1em" style="text-align: right; display:{!IF(oneRoom.sumRowData.isSumRowShowFlg && isReducedTaxFlg && (oneRoom.taxRowDataLst.size != 0), true, 'none')}">
	<!-- 2019/10/30 消費税対象、値引行非表示の機能機能対応 WGCH END -->
	    <td> 合計(税抜) </td>
	    <td>
    <apex:outputtext value="{!currencyMark}{0,number,{!NumberFormat}}">
	      <apex:param value="{!oneRoom.sumRowData.amountExcTax}"></apex:param>
	     </apex:outputtext>
	    </td>
	    <td> 消費税 </td>
	    <td>
    <apex:outputtext value="{!currencyMark}{0,number,{!NumberFormat}}">
	      <apex:param value="{!oneRoom.sumRowData.taxAmount}"></apex:param>
	     </apex:outputtext>
	    </td>
  </tr>
  <!-- <tr height="2px" style="background-color: black;"><td colspan="2"><img src="{!URLFOR($Resource.reportFiles, 'img/blank')}" style=" height:1px;width: 1px"/></td></tr> -->
  <tr height="2px" style="background-color: black;"><td colspan="{!IF(isReducedTaxFlg, '4', '2')}"><img src="{!URLFOR($Resource.reportFiles, 'img/blank')}" style=" height:1px;width: 1px"/></td></tr>
  <!-- 2019/07/30 軽減税率機能対応 WGCH END -->
</table>
</td></tr></table>
<!-- 2018/12/15 請求書レイアウト改善 zyz BY BEGIN -->
<!--<apex:outputPanel rendered="{!!isForeignCurrency}">-->
<apex:outputPanel rendered="{!!isForeignCurrency && (customizeHtml =='')}">
<!-- 2018/12/15 請求書レイアウト改善 zyz BY END -->
<span style="font-size:10pt;">毎度格別の御引立に預かり厚く御礼申し上げます</span><br/>
<span style="font-size:10pt;">下記の通り御請求申し上げます。</span>
</apex:outputPanel>
<!-- 2018/12/15 請求書レイアウト改善 zyz BY BEGIN -->
<apex:outputPanel rendered="{!(customizeHtml !='')}">
<table><apex:outputtext value="{!customizeHtml}" escape="false"></apex:outputtext></table>
</apex:outputPanel>
<!--<apex:outputPanel rendered="{!isForeignCurrency}">-->
<apex:outputPanel rendered="{!isForeignCurrency && (customizeHtml =='')}">
<!-- 2018/12/15 請求書レイアウト改善 zyz BY END -->
<table style="width: 100%;line-height:70%;">
<tr><td><span style="font-size:9pt;">毎度格別の御引立に預かり厚く御礼申し上げます</span></td></tr>
<tr><td><span style="font-size:9pt;">下記の通り御請求申し上げます。</span></td></tr>
<tr><td><span style="font-size:9pt;">Thank you very much.</span></td></tr>
<tr><td><span style="font-size:9pt;">Please be advised that your payment to be made as follows.</span></td></tr>
</table>
</apex:outputPanel>
</td>
<!-- 
<td style="text-align: right;width: 40%">
 -->
<td style="text-align: right;">
	<!-- 2019/05/31 増税仮BUG FIX WGCH BEGIN -->
	<!-- <c:ReportTitleComp postion="top" noExtendInfo="true"  width="299"  isBillPdf="true" stampisShowFlg="{!stampIsShowFlg}" shopCd="{!shopCd}"/> -->
	<c:ReportTitleComp postion="top" noExtendInfo="true"  width="299"  isBillPdf="true" stampisShowFlg="{!stampIsShowFlg}" shopCd="{!shopCd}" repInfo="{!repInfo}"/>
	<!-- 2019/05/31 増税仮BUG FIX WGCH END -->
</td>
</tr>

<tr><td style="text-align: right;" colspan="{!IF(gIsServieModeOuter, '1', '2' )}">
<!-- 2019/09/27 パラメータ切り替え WGCH BEGIN -->
<div style="font-size:8pt;text-align: left;float:left;display:{!IF(isReducedTaxFlg, true, 'none')}">
<table>
<tr><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td></tr>
<tr><td><apex:outputtext value="{!$Label.ps__msg_006_0458}" rendered="{!isReducedTaxFlg}"/></td></tr>
</table>
</div>
<!-- 2019/09/27 パラメータ切り替え WGCH END -->
<div style="font-size:8pt;text-align: right;float:right">
<table style="text-align: right; width: 10%;">
<tr><td>発行日付</td>
  <td>
  <apex:outputText value="{0,date,yyyy年MM月dd日}">
  <!-- 2018/05/01 請求書分割 WGCH BEGIN -->
  <apex:param value="{!oneRoom.IssueDate}"/>
  <!-- 2018/05/01 請求書分割 WGCH END -->
  </apex:outputText>
  </td>
</tr>
<!-- 2018/05/01 請求書分割 WGCH BEGIN -->
<tr><td>ご利用日</td><td>{!oneRoom.ServiceDate}</td></tr>
<!-- 2018/05/01 請求書分割 WGCH END -->
<tr><td colspan="2">単位:{!currencyUnit}</td></tr>
</table>
</div>
</td></tr>
</table>
<!-- 2018/05/01 請求書分割 WGCH BEGIN -->
<apex:repeat value="{!oneRoom.allPageList}" var="onePage" >
<!-- 2018/05/01 請求書分割 WGCH END -->
<div style="page-break-before: always; {!if( onePage.isFirstPage, 'display:none', 'display:true')}">
<!-- 2018/05/01 請求書分割 WGCH BEGIN -->
<table width="100%"><tr><td style="text-align:right; margin-right: 4px;">{!onePage.currPages} / {!oneRoom.allPageList.size}</td>
<!-- 2018/05/01 請求書分割 WGCH END -->
</tr></table>
</div>


<apex:pageBlock >
   <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz BEGIN -->
<apex:dataTable rowClasses="odd,even" value="{!onePage.onePageList}" var="t" border="0" cellpadding="0" width="100%" headerClass="{!IF(isForeignCurrency,'header','dumyclass')} tableborderbottom tableborderleft">
   <apex:column width="5%" style="font-size:80%;vertical-align: top;visibility:{!if(t.blankFlg,'hidden','')}" styleClass="tableborderleft">
   <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz END -->
    <apex:facet name="header" >
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz BEGIN -->
     <div align="center" style="font-size:70%;background-color:#CCCCCC;display: {!IF(!isForeignCurrency, 'block','none')}" >
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz END -->
      No.
     </div>
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz BEGIN -->
     <div align="center" style="line-height:80%;display: {!IF(isForeignCurrency, 'block','none')}" >
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz END -->
      No.
     </div>


    </apex:facet>
    <!-- 2019/07/30 軽減税率機能対応 WGCH BEGIN -->
    <!-- <div align="center"> -->
    <div align="center" style="{!IF(t.pBrkDNFlg, 'display:none;', '')}">
    <!-- 2019/07/30 軽減税率機能対応 WGCH END -->
     <apex:outputtext value="{0,number,}">
      <apex:param value="{!t.rowNo}"></apex:param>
     </apex:outputtext>
    </div>
   </apex:column>

   <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz BEGIN -->
   <apex:column width="10%" style="font-size:80%;vertical-align: top;visibility:{!if(t.blankFlg,'hidden','')}" styleClass="tableborderleft">
   <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz END -->
    <apex:facet name="header">
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz BEGIN -->
     <div align="center" style="font-size:70%;background-color:#CCCCCC;display: {!IF(!isForeignCurrency, 'block','none')}" >
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz END -->
      ご利用日
     </div>
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz BEGIN -->
     <div align="center" style="line-height:80%;display: {!IF(isForeignCurrency, 'block','none')}" >
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz END -->
ご利用日<br/>
<span style="font-size: 0.2cm;">Date</span>
     </div>

    </apex:facet>
  	<!-- 2019/07/30 軽減税率機能対応 WGCH BEGIN -->
    <!-- <div align="center">{!t.usedDate}</div> -->
    <div align="center" style="{!IF(t.pBrkDNFlg, 'display:none;', '')}">{!t.usedDate}</div>
    <!-- 2019/07/30 軽減税率機能対応 WGCH END -->
   </apex:column>
   <!-- 2019/07/30 軽減税率機能対応 WGCH BEGIN -->
   <!-- <apex:column width="57%" style="font-size:80%;"> -->
   <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz BEGIN -->
   <apex:column width="{!IF(isReducedTaxFlg, '51%', '57%')}" style="font-size:80%;vertical-align: top;visibility:{!if(t.blankFlg,'hidden','')}" styleClass="tableborderleft">
   <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz END -->
   <!-- 2019/07/30 軽減税率機能対応 WGCH END -->
    <apex:facet name="header" >
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz BEGIN -->
     <div align="center" style="font-size:70%;background-color:#CCCCCC;display: {!IF(!isForeignCurrency, 'block','none')}" >
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz END -->
      摘要／項目
     </div>
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz BEGIN -->
     <div align="center" style="line-height:80%;display: {!IF(isForeignCurrency, 'block','none')}" >
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz END -->
摘要／項目<br/>
<span style="font-size: 0.2cm;">Reference</span>
     </div>

    </apex:facet>
    <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz BEGIN -->
    <apex:outputtext value="{!t.produceNm}" rendered="{!ISNULL(t.produceNms)}"/>
    <apex:repeat value="{!t.produceNms}" var="pnm" rendered="{!t.produceNms!=null}">
       <apex:outputtext value="{!pnm}" style="line-height:20.5px;" /><br/>
    </apex:repeat>
    <!--{!t.produceNm}-->
    <!-- 2019/09/90 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz END -->
   </apex:column>

   <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz BEGIN -->
   <apex:column width="11%" style="font-size:80%;vertical-align: top;visibility:{!if(t.blankFlg,'hidden','')}" styleClass="tableborderleft">
   <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz END -->
    <apex:facet name="header">
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz BEGIN -->
     <div align="center" style="font-size:70%;background-color:#CCCCCC;display: {!IF(!isForeignCurrency, 'block','none')}" >
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz END -->
      単価
     </div>
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz BEGIN -->
     <div align="center" style="line-height:80%;display: {!IF(isForeignCurrency, 'block','none')}" >
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz END -->
単価<br/>
<span style="font-size: 0.2cm;">Price</span>
     </div>


    </apex:facet>
    <!-- 2019/07/30 軽減税率機能対応 WGCH BEGIN -->
    <!-- <div align="right"> -->
    <div align="right" style="{!IF(t.planFlg, 'display:none;', '')}">
    <!-- 2019/07/30 軽減税率機能対応 WGCH END -->
     <apex:outputtext value="{0,number,{!NumberFormat}}">
      <apex:outputLabel value="{!currencyMark} " rendered="{!t.isShowInfo}" />
      <apex:param value="{!t.unitPrice}"></apex:param>
     </apex:outputtext>
    </div>
   </apex:column>
   <!-- 2019/07/30 軽減税率機能対応 WGCH BEGIN -->
   <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz BEGIN -->
   <apex:column width="6%" style="font-size:80%;vertical-align: top;visibility:{!if(t.blankFlg,'hidden','')}" rendered="{!isReducedTaxFlg}" styleClass="tableborderleft">
   <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz END -->
    <apex:facet name="header">
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz BEGIN -->
     <div align="center" style="font-size:70%;background-color:#CCCCCC;display: {!IF(!isForeignCurrency, 'block','none')}" >
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz END -->
    消費税
     </div>
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz BEGIN -->
     <div align="center" style="line-height:80%;display: {!IF(isForeignCurrency, 'block','none')}" >
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz END -->
消費税<br/>
<span style="font-size: 0.2cm;">Tax</span>
     </div>
    </apex:facet>
    <div align="right" style="{!IF(t.planFlg, 'display:none;', '')}">
     <apex:outputtext value="{0,number,{!TaxNumberFormat}}" rendered="{!t.isShowInfo && NOT(t.isShowCircle) && NOT(t.isServieFlg)}">
      <apex:param value="{!t.taxRate}"></apex:param>
     </apex:outputtext>
    </div>
   </apex:column>
   <!-- 2019/07/30 軽減税率機能対応 WGCH END -->
   <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz BEGIN -->
   <apex:column width="5%" style="font-size:80%;vertical-align: top;visibility:{!if(t.blankFlg,'hidden','')}" styleClass="tableborderleft">
   <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz END -->
    <apex:facet name="header">
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz BEGIN -->
     <div align="center" style="font-size:70%;background-color:#CCCCCC;display: {!IF(!isForeignCurrency, 'block','none')}" >
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz END -->
      数量
     </div>
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz BEGIN -->
     <div align="center" style="line-height:80%;display: {!IF(isForeignCurrency, 'block','none')}" >
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz END -->
数量<br/>
<span style="font-size: 0.2cm;">Q'ty</span>
     </div>

    </apex:facet>
    <!-- 2019/07/30 軽減税率機能対応 WGCH BEGIN -->
    <!-- <div align="center"> -->
    <div align="center" style="{!IF(t.planFlg, 'display:none;', '')}">
    <!-- 2019/07/30 軽減税率機能対応 WGCH END -->
     <apex:outputtext value="{0,number}">
      <apex:param value="{!t.quantity}"></apex:param>
     </apex:outputtext>
    </div>
   </apex:column>

   <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz BEGIN -->
   <apex:column width="12%" style="font-size:80%;vertical-align: top;visibility:{!if(t.blankFlg,'hidden','')}" styleClass="tableborderleft tableborderright">
   <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz END -->
    <apex:facet name="header">
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz BEGIN -->
     <div align="center" style="font-size:70%;background-color:#CCCCCC;display: {!IF(!isForeignCurrency, 'block','none')}" class="tableborderright">
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz END -->
      金額
     </div>
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz BEGIN -->
     <div align="center" style="line-height:80%;display: {!IF(isForeignCurrency, 'block','none')}" class="tableborderright">
     <!-- 2019/09/30 請求書で印刷した際に、商品名が折り返し出力できるように改善対応 zyz END -->
ご利用金額<br/>
<span style="font-size: 0.2cm;">Amount</span>
     </div>

    </apex:facet>
    <!-- 2019/07/30 軽減税率機能対応 WGCH BEGIN -->
    <!-- <div align="right"> -->
    <div align="right" style="{!IF(t.planFlg, 'display:none;', '')}">
    <!-- 2019/07/30 軽減税率機能対応 WGCH END -->
     <apex:outputLabel value="　" rendered="{!!t.isShowInfo}" />
     <apex:outputtext value="{0,number,{!NumberFormat}}" rendered="{!t.isShowInfo}" >
      <apex:outputLabel value="▲ " rendered="{!t.isShowCircle && t.amout > 0}" />
      <apex:outputLabel value="{!currencyMark} "/>
      <!-- 
      <apex:param value="{!t.unitPrice*t.quantity}" />
       -->
      <apex:param value="{!t.amout}" />
     </apex:outputtext>
    </div>
   </apex:column>
 </apex:dataTable>
</apex:pageBlock>

 <table>
 <tr><td><img alt="" src="{!URLFOR($Resource.reportFiles, 'img/blank')}" style="width: 30px; height: 1px;"/></td></tr>
 </table>
<!-------------- footer BEGIN -------------->
<!-- ************************************ -->
<table border="0" cellspacing="0" width="100%"
  style="table-layout: fixed;{!if(onePage.isFirstPage, 'display:true', 'display:none')}">
  <tr>
  <!-- Table Left Postion -->
  <td width="40%" style="vertical-align: top;">
<div style="word-break:break-all;word-wrap: break-word;;width:100%;">
<apex:outputLabel value="{!comment.comment__c}" rendered="{!isCommentAutoBreakFlg}"/>
</div>
<apex:outputField value="{!comment.comment__c}" rendered="{!!isCommentAutoBreakFlg}"/>
  </td>


  <td width="60%" style="vertical-align: top;">
  <!-- Table Right Postion -->
 <table border="0" cellspacing="0" width="100%" align="right"
  style="table-layout: fixed;">

  <tr>
    <td align="left">
    <div style="font-size:90%; margin-left: 3px; border-bottom: 0.5px solid #000;">
     <!-- 2018/12/15 請求書レイアウト改善 BY zyz BEGIN -->
     <!--お振込先-->
     <apex:outputPanel rendered="{!payeeStr != ''}">{!payeeStr}</apex:outputPanel>
     <apex:outputPanel rendered="{!payeeStr == ''}">お振込先</apex:outputPanel>
     <!-- 2018/12/15 請求書レイアウト改善 BY zyz END -->
    </div>
   </td>
  </tr>
<!-- 2019/1/15 請求書に掲載する振込先口座情報を、同一店舗内で切り替えする BY cxw BEGIN -->
  <tr style="{!IF(isFiexlMsg, 'display: none', '')}">
    <td align="right">
    <div style="font-size:80%; margin-left: 10px;">
    {!payee1}
    </div>
   </td>
  </tr>
  <tr style="{!IF(isFiexlMsg, 'display: none', '')}">
    <td align="right">
    <div style="font-size:80%; margin-left: 10px;">
    {!payee2}
    </div>
   </td>
  </tr>
  <tr style="{!IF(isFiexlMsg, 'display: none', '')}">
    <td align="right">
    <div style="font-size:80%; margin-left: 10px;">
    {!payee3}
    </div>
   </td>
  </tr>
  <tr style="{!IF(isFiexlMsg, 'display: none', '')}">
    <td align="right">
    <div style="font-size:80%; margin-left: 10px; float: right;">
    {!IF(ISBLANK(payeeAcount), '', '口座名')}&nbsp;&nbsp;&nbsp;&nbsp;{!payeeAcount}
    </div>
   </td>
  </tr>
  <tr style="{!IF(isFiexlMsg, '', 'display: none')}">
    <td>
    <div style="font-size: 80%">
      <apex:repeat value="{!lstFixelMsg}" var="msg" rows="{!lstFixelMsg.size - 1}" rendered="{!isFiexlMsg && lstFixelMsg.size - 1 != 0}">
        <span style="float: right;">{!msg}</span><br />
      </apex:repeat>
      <apex:repeat value="{!lstFixelMsg}" var="msg" first="{!lstFixelMsg.size - 1}" rendered="{!isFiexlMsg}">
        <span style="float: right;">{!msg}</span>
      </apex:repeat>
    </div>
    </td>
  </tr>
  <!-- 2019/1/15 請求書に掲載する振込先口座情報を、同一店舗内で切り替えする BY cxw END -->
 </table>

</td>
</tr></table>
<!--　2018/12/15 請求書-領収書新規レイアウトを追加 WGCH BEGIN -->
<!-- 領収書分割線 显示还是隐藏  -->
<apex:outputPanel rendered="{!!noreceipt && onePage.isFirstPage}"> 
  <table width="100%"><tr>
  <apex:repeat value="{!spliteLineLoop}" var="splitIdx" >
  <td class="splitline"><img alt="" src="{!URLFOR($Resource.reportFiles, 'img/blank')}" style="width: 4px; height: 5px;"/></td>
  <td><img alt="" src="{!URLFOR($Resource.reportFiles, 'img/blank')}" style="width: 4px; height: 5px;"/></td>
  <td class="splitline"><img alt="" src="{!URLFOR($Resource.reportFiles, 'img/blank')}" style="width: 4px; height: 5px;"/></td>
  <td><img alt="" src="{!URLFOR($Resource.reportFiles, 'img/blank')}" style="width: 4px; height: 5px;"/></td>
  <td class="splitline"><img alt="" src="{!URLFOR($Resource.reportFiles, 'img/blank')}" style="width: 4px; height: 5px;"/></td>
  <td><img alt="" src="{!URLFOR($Resource.reportFiles, 'img/blank')}" style="width: 4px; height: 5px;"/></td>
  </apex:repeat>
  <td class="splitline"><img alt="" src="{!URLFOR($Resource.reportFiles, 'img/blank')}" style="width: 4px; height: 5px;"/></td>
  </tr></table>
  <!-- 領収書BEGIN -->
  <table width="100%" cellpadding="0px" cellspacing="0px" style="table-layout: fixed;font-size:75%;"> 
    <tr>
        <td colspan="7" style="font-size: 0.4cm;">領収証 Receipt</td>
        <td colspan="5" style="text-align:right;">日付&nbsp;
        <apex:outputText value="{0,date,yyyy年MM月dd日}">
           <apex:param value="{!oneRoom.IssueDate}"/>
        </apex:outputText>
        </td>
        <td colspan="1" style="text-align:right;">
        &nbsp;&nbsp;No.&nbsp;{!oneRoom.AccountNo}</td>
    </tr>
    <tr>
        <td colspan="13"><img alt="" src="{!URLFOR($Resource.reportFiles, 'img/blank')}" style="width: 30px; height: 5px;"/></td>
    </tr>
    <tr style="height: 30px;font-size: 0.35cm;">
      <td colspan="5" class="underline">
      <table style="width:100%;border:0px;table-layout:fixed">
            <tr>
              <td style="line-height: 80%;width:66px;" nowrap="nowrap">
                ご芳名<br/> <span style="font-size: 0.3cm;">Guest Name</span>
              </td>
              <td style="word-break: break-all;word-wrap:break-word;vertical-align: bottom;">
                <span>{!oneRoom.accountName}</span>
              </td>
            </tr>
          </table>
        </td>
        <!-- 2019/10/15 見積書、請求書、会計書、予約確認書の敬称を選択できるように改善対応 BY zyz BEGIN -->
        <td colspan="1" style="text-align:right;vertical-align: bottom;" class="underline" >{!IF(mrStr !='' ,mrStr , '様')}</td>
        <!-- 2019/10/15 見積書、請求書、会計書、予約確認書の敬称を選択できるように改善対応 BY zyz END -->
        <td colspan="7" rowspan="6" style="vertical-align: bottom;">
             <c:ReportTitleComp postion="bottom"  spaceNoWrap="white-space: nowrap;" repInfo="{!repInfo}"/>
        </td>
    </tr>
    <tr >
        <td colspan="6"><img alt="" src="{!URLFOR($Resource.reportFiles, 'img/blank')}" style=" height: 10px;"/></td>
    </tr>
    <tr style="font-size: 0.35cm;">
         <td colspan="1" class="underline" style="line-height: 87%;">金額：<br/> <span style="font-size: 0.3cm;">Amount</span></td>
         <td colspan="4" style="text-align:right;vertical-align:bottom; border-bottom: 0.5px solid #000;">
         <apex:outputtext value="{!CurrencySybmol}{0,number,{!NumberFormat}}" style="{!IF(isOldManModeFlg, 'font-size:16px', '')}" >
          <apex:outputLabel value=" " />
          <apex:param value="{!NULLVALUE(oneRoom.receipt,0)}" />
         </apex:outputtext>
        </td>
        <td colspan="1" rowspan="4" style="vertical-align: bottom;text-align: center;">
          <!-- 2019/05/15 領収書の収入印紙部分に添付の画像機能対応 BY zyz BEGIN -->
          <c:ReportTitleComp repInfo="{!repInfo}" pdfType="stamp"/>
          <!-- 2019/05/15 領収書の収入印紙部分に添付の画像機能対応 BY zyz END -->
            <table cellpadding="0" cellspacing="0" style="height: 70px;width: 70px; margin-left: 20px" border="0">
                <tr style="height: 10px">
                  <td class="splitline leftline" style="width: 10px"></td>
                  <td style="width: 10px"></td>
                  <td class="splitline" style="width: 10px"></td>
                  <td style="width: 10px"></td>
                  <td class="splitline" style="width: 10px"></td>
                  <td style="width: 10px"></td>
                  <td class="splitline rightline" style="width: 14px"></td>
                </tr>
                <tr style="height: 10px"><td colspan="7"></td></tr>
                <tr style="height: 10px"><td class="leftline"></td><td colspan="5"></td><td class="rightline"></td></tr>
                <tr style="height: 10px"><td colspan="7"></td></tr>
                <tr style="height: 10px"><td class="leftline"></td><td colspan="5"></td><td class="rightline"></td></tr>
                <tr style="height: 10px"><td colspan="7"></td></tr>
                <tr style="height: 10px">
                    <td class="leftline underline"></td>
                    <td ></td>
                    <td class="underline" ></td>
                    <td ></td>
                    <td class="underline" ></td>
                    <td ></td>
                    <td class="rightline underline" ></td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
      <td colspan="1" class="underline" style="line-height: 87%;">内税：<br/> <span style="font-size: 0.2cm;">{!proTaxEnglishLabel}</span></td>
        <td colspan="4" style="text-align:right;vertical-align:bottom; border-bottom: 0.5px solid #000;">
           <apex:outputtext value="{!CurrencySybmol}{0,number,{!NumberFormat}}" style="{!IF(isOldManModeFlg, 'font-size:16px', '')}" >
            <apex:outputLabel value=" " />
            <apex:param value="{!NULLVALUE(oneRoom.receiptTax,0)}" />
           </apex:outputtext>
        </td>
    </tr>
    <tr >
        <td colspan="5" style="font-size: 0.2cm;text-align:left;height:15px;vertical-align: middle;">上記金額を正に領収いたしました(消費税を含みます)</td>
    </tr>
    <tr>
        <td colspan="5" style="text-align:left; vertical-align: bottom; font-size: 0.3cm; ">但し&nbsp;&nbsp;{!oneRoom.accountProviso}</td>

    </tr>
    <tr>
        <td colspan="5" style="border-top: 0.5px solid #000;"></td>
        <td colspan="8"><img alt="" src="{!URLFOR($Resource.reportFiles, 'img/blank')}" style=" height: 1px;"/></td>
    </tr>
  </table>
</apex:outputPanel>
<!-- 2018/12/15 請求書-領収書新規レイアウトを追加 WGCH END -->

</apex:repeat>
<!-- 2017/05/31 請求書PDFについての(控)を出力制御対応 zyz BEGIN -->
</apex:repeat>
<!-- 2017/05/31 請求書PDFについての(控)を出力制御対応 zyz END -->
<!-- 2018/05/01 請求書分割 WGCH BEGIN -->
</apex:repeat>
<!-- 2018/05/01 請求書分割 WGCH END -->
</body>
</html>
</apex:page>